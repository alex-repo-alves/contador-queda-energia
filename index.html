<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        body {
            background-color: rgb(81, 85, 105);
            font-size: 6vw;
            font-weight: bold;
            text-align: center;
            text-transform: uppercase;
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
            margin: auto 0;
            height: 70vh;
            display: grid;
            grid-template-rows: repeat(2, auto) 1fr;
            grid-gap: 10px;
        }

        p {
            margin: 0;
            padding: 0;
            color: rgb(243, 243, 243);
        }

        b {
            font-family: Impact, Charcoal, sans-serif;
            font-size: 8vw;
            color: rgb(255, 255, 255);
        }

        img {
            width: calc(100vw / 5);
            justify-self: center;
        }
    </style>
</head>

<body>
    <div style="grid-row: 1;"> <!-- Div para o primeiro bloco de texto -->
        <p>Estamos há <b>%%</b> dias sem falta de energia e desligamento do data center.</p>
           <p>Nosso recorde é de <b>##</b> dias</p>
    </div>
    <div style="grid-row: 3;"> <!-- Div para a imagem -->
        <img src="thor.png" alt="thor">
    </div>
    <script>
        // Obter a data atual
        var dataAtual = new Date();

        // Criar uma nova data com o dia 08 de março de 2023
        // Criar uma nova data com o dia 03 de junho de 2023
        // Criar uma nova data com o dia 06 de junho de 2023
        // Criar uma nova data com o dia 30 de junho de 2023
        // Criar uma nova data com o dia 05 de junlo de 2023
        // Criar uma nova data com o dia 13 de julho de 2023
        // Criar uma nova data com o dia 19 de julho de 2023
        // Criar uma nova data com o dia 30 de julho de 2023
        // Criar uma nova data com o dia 15 de agosto de 2023
        // Criar uma nova data com o dia 24 de agosto de 2023
        // Criar uma nova data com o dia 30 de agosto de 2023
        // Criar uma nova data com o dia 01 de outubro de 2023
        // Criar uma nova data com o dia 11 de outubro de 2023
        // Criar uma nova data com o dia 06 de novembro de 2023
        // Criar uma nova data com o dia 02 de dezembro de 2023
        // Criar uma nova data com o dia 10 de dezembro de 2023
        // Criar uma nova data com o dia 06 de janeiro de 2024
        //var dataBase = new Date(2023, 2, 8);
        var dataBase = new Date(2024, 0, 6);

        // Calcular a diferença em milissegundos entre as duas datas
        var diferenca = dataAtual.getTime() - dataBase.getTime();

        // Converter a diferença de milissegundos para dias
        var dias = Math.floor(diferenca / (1000 * 60 * 60 * 24));

        // Substituir %% pelo número de dias calculado
        var texto = document.querySelector('p:first-of-type').innerHTML;
        texto = texto.replace(/%%/g, dias);
        document.querySelector('p:first-of-type').innerHTML = texto;

        //Plural ou singular de dia
        var textoDias = document.querySelector('p:first-of-type').innerHTML;
        if (dias == 1) {
            textoDias = textoDias.replace('dias', 'dia');
        } 
        document.querySelector('p:first-of-type').innerHTML = textoDias;

        // Adicionar nova variável
        //var valor = 30;
        var valor = 87;

        // Substituir "##" condicionalmente
        var recorde = document.querySelector('p:nth-of-type(2)').innerHTML;
        if (dias > valor) {
            recorde = recorde.replace(/##/g, dias);
        } else {
            recorde = recorde.replace(/##/g, valor);
        }
        document.querySelector('p:nth-of-type(2)').innerHTML = recorde;

        // Define a função para atualizar a página
        function atualizarPagina() {
            location.reload();
        }

        // Chama a função a cada uma hora (3600000 milissegundos)
        setInterval(atualizarPagina, 300000);

    </script>

</body>

</html>
